<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>çµ‚æ¥µæ•¸ä½å¹³å° v19.0 | éœ‡å‹•æ„Ÿå®˜æ——è‰¦ç‰ˆ</title>

    <meta name="theme-color" id="chrome-theme" content="#f8fafc">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" id="safari-theme" content="default">
    <meta name="apple-mobile-web-app-title" content="ç­ç´šå¹³å°">

    <script>
        /**
         * âš¡ é˜»æ–·å¼ç‹€æ…‹å¼•æ“ (Atomic State Engine)
         * ç¢ºä¿åœ¨ DOM å‡ºç¾å‰ï¼Œæ‰€æœ‰è®Šè‰²ã€ä½ç½®ã€éœ‡å‹•æ¬Šé™éƒ½å·²å°±ç·’
         */
        (function() {
            const cache = {
                theme: localStorage.getItem('theme') || 'light',
                layout: localStorage.getItem('layout') || 'list-mode',
                page: localStorage.getItem('lastPage') || '0'
            };

            // ç«‹å³é–å®šè¦–è¦ºç‹€æ…‹
            if (cache.theme === 'dark') document.documentElement.classList.add('dark-mode');
            document.documentElement.setAttribute('data-layout', cache.layout);
            document.documentElement.setAttribute('data-page', cache.page);
            
            // è¦–è¦ºå±éšœï¼šé˜²æ­¢é–ƒçˆ
            const style = document.createElement('style');
            style.innerHTML = `body { opacity: 0; } [data-ready="true"] body { opacity: 1; transition: opacity 0.4s; }`;
            document.head.appendChild(style);
        })();

        // ğŸ–ï¸ ç³»çµ±å…¨åŸŸè³‡è¨Š
        const MASTER_CONFIG = {
            banner: "ğŸ“³ v19.0 æ——è‰¦ç‰ˆï¼šå·²å°å…¥ã€ŒçœŸå¯¦ç¡¬é«”éœ‡å‹•é©…å‹•ã€èˆ‡ã€ŒåŸåœ°é–å®šæŠ€è¡“ã€ã€‚",
            dev: {
                name: "ç‹å®¥éˆ",
                title: "æ ¸å¿ƒæ¶æ§‹å¸« / Lead Developer",
                ver: "v19.0.8-Vibration-Stable",
                logs: [
                    "2026/02/12 - å¯¦ä½œ Web Vibration API ç¡¬é«”é©…å‹•ã€‚",
                    "2026/02/12 - å¼·åŒ–æ·±è‰²æ¨¡å¼ã€Œé«˜å°æ¯”ç¥ç€é‡‘ã€é¸å–æŒ‡ç¤ºã€‚",
                    "2026/02/11 - è§£æ±º iPhone é‡æ–°æ•´ç†åº§æ¨™å›å½ˆ Bugã€‚",
                    "2026/02/11 - å°å…¥å…¨ç³»çµ± SVG æš´åŠ›é‡ç¹ªæ©Ÿåˆ¶ã€‚",
                    "2026/02/10 - å„ªåŒ– PWA æ¨¡å¼ä¸‹çš„å…¨è¢å¹•æ²‰æµ¸æ„Ÿã€‚"
                ]
            }
        };
    </script>

    <style>
        /* =============================================
           ğŸ¨ 1. è¦–è¦ºè®Šæ•¸ç³»çµ± (æ¥µè‡´å°æ¯”æ–¹æ¡ˆ)
           ============================================= */
        :root {
            --p: #4361ee; --g: #7209b7; --bg: #f8fafc; --card: #ffffff;
            --text: #1e293b; --sub: #64748b; --border: rgba(0,0,0,0.08);
            --nav-bg: rgba(255, 255, 255, 0.8); --banner-bg: #fff9db; --banner-text: #856404;
            --indicator: #4361ee; /* æ·ºè‰²æ¨¡å¼é¸ä¸­ï¼šäº®è— */
            --safe-bottom: env(safe-area-inset-bottom, 20px);
        }

        .dark-mode {
            --bg: #020617; --card: #111827; --text: #f8fafc;
            --sub: #94a3b8; --border: rgba(255,255,255,0.12);
            --nav-bg: rgba(15, 23, 42, 0.85); --banner-bg: #1e1b0a; --banner-text: #ffe066;
            --indicator: #fbbf24; /* æ·±è‰²æ¨¡å¼é¸ä¸­ï¼šç¥ç€é‡‘ (æœ€é«˜å°æ¯”) */
        }

        /* =============================================
           ğŸ—ï¸ 2. æ ¸å¿ƒä½ˆå±€æ¶æ§‹
           ============================================= */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        
        body {
            margin: 0; padding: 0; width: 100vw; height: 100dvh;
            background-color: var(--bg); color: var(--text);
            font-family: 'PingFang TC', system-ui, -apple-system, sans-serif;
            overflow: hidden; position: fixed;
        }

        /* æ¨™é ­è¨­è¨ˆ */
        header {
            height: 75px; padding: 0 20px;
            background: var(--nav-bg); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            border-bottom: 1px solid var(--border);
            display: flex; justify-content: space-between; align-items: center;
            z-index: 1000;
        }
        .brand h1 { margin: 0; font-size: 22px; font-weight: 900; color: var(--p); letter-spacing: -1px; }
        .brand p { margin: 0; font-size: 10px; color: var(--sub); font-weight: 800; letter-spacing: 1px; }

        /* æŒ‰éˆ•èˆ‡åˆ‡æ›å™¨ */
        .header-tools { display: flex; gap: 12px; align-items: center; }
        
        .switch-base {
            display: flex; background: rgba(0,0,0,0.1); 
            padding: 4px; border-radius: 15px; gap: 5px;
            border: 1px solid var(--border);
        }
        .dark-mode .switch-base { background: rgba(255,255,255,0.08); }

        .tool-btn {
            border: none; background: transparent; cursor: pointer;
            width: 42px; height: 35px; border-radius: 11px;
            display: flex; align-items: center; justify-content: center;
            color: var(--sub); transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ğŸŒŸ é¸ä¸­ç‹€æ…‹ï¼šé®®è‰·æŒ‡ç¤ºå™¨ */
        .tool-btn.active {
            background: var(--indicator);
            color: var(--bg) !important;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform: scale(1.08);
        }
        .dark-mode .tool-btn.active {
            color: #000 !important; /* é‡‘åº•é»‘å­—ï¼Œå°æ¯”æœ€å¼· */
        }

        .circle-btn {
            width: 44px; height: 44px; border-radius: 50%;
            background: var(--card); border: 1px solid var(--border);
            color: var(--text); display: flex; align-items: center; justify-content: center;
            box-shadow: 0 3px 8px rgba(0,0,0,0.06);
        }
        .circle-btn:active { transform: scale(0.9); transition: 0.1s; }

        svg { width: 22px; height: 22px; fill: none; stroke: currentColor; stroke-width: 2.5; stroke-linecap: round; stroke-linejoin: round; }

        /* =============================================
           ğŸ“± 3. æ»‘å‹•å¼•æ“ (Scroll Engine)
           ============================================= */
        .main-viewport {
            width: 100%; height: calc(100dvh - 75px);
            display: flex; overflow-x: auto; overflow-y: hidden;
            scroll-snap-type: x mandatory; scrollbar-width: none;
            -webkit-overflow-scrolling: touch;
        }
        .main-viewport::-webkit-scrollbar { display: none; }

        .panel-section {
            flex: 0 0 100%; width: 100%; height: 100%;
            scroll-snap-align: start; overflow-y: auto;
            padding: 25px 20px 200px; box-sizing: border-box;
        }

        /* ç¶²æ ¼ä½ˆå±€æ§åˆ¶ */
        .items-grid { display: grid; gap: 18px; width: 100%; max-width: 1100px; margin: 0 auto; }

        /* æ¨¡å¼ 1: æ¸…å–® (List) */
        [data-layout="list-mode"] .items-grid { grid-template-columns: 1fr; }
        @media (min-width: 900px) { [data-layout="list-mode"] .items-grid { grid-template-columns: repeat(3, 1fr); } }

        /* æ¨¡å¼ 2: æ–¹å¡Š (Grid) */
        [data-layout="grid-mode"] .items-grid { grid-template-columns: repeat(3, 1fr); gap: 12px; }
        @media (min-width: 1024px) { [data-layout="grid-mode"] .items-grid { grid-template-columns: repeat(6, 1fr); } }

        /* é …ç›®å¡ç‰‡è¨­è¨ˆ */
        .data-card {
            background: var(--card); border: 1px solid var(--border);
            border-radius: 25px; text-decoration: none; color: inherit;
            display: flex; transition: all 0.3s ease; position: relative;
            box-shadow: 0 4px 12px rgba(0,0,0,0.03);
        }
        /* ğŸ’¡ å¢åŠ  iPhone è§¸è¦ºè£œå„Ÿæ•ˆæœ */
        .data-card:active { transform: scale(0.96); background: rgba(67, 97, 238, 0.05); }

        [data-layout="list-mode"] .data-card { padding: 24px; align-items: center; }
        [data-layout="grid-mode"] .data-card { flex-direction: column; padding: 22px 10px; text-align: center; aspect-ratio: 1/1.1; justify-content: center; }

        .icon-box { display: flex; align-items: center; justify-content: center; transition: 0.3s; }
        [data-layout="list-mode"] .icon-box { width: 60px; height: 60px; border-radius: 18px; margin-right: 22px; font-size: 28px; background: var(--bg); }
        [data-layout="grid-mode"] .icon-box { width: 50px; height: 50px; border-radius: 50%; margin: 0 auto 15px; font-size: 24px; background: var(--bg); }

        .info-box h2 { margin: 0; font-size: 17px; font-weight: 850; }
        .info-box p { margin: 6px 0 0; font-size: 12px; color: var(--sub); font-weight: 600; line-height: 1.5; }
        [data-layout="grid-mode"] .info-box p { display: none; }

        /* =============================================
           ğŸ§­ 4. åº•éƒ¨å°è¦½åˆ—
           ============================================= */
        .dock-wrapper {
            position: fixed; bottom: calc(25px + var(--safe-bottom));
            left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 450px; z-index: 5000;
        }
        .dock-body {
            background: var(--nav-bg); backdrop-filter: blur(30px) saturate(180%); -webkit-backdrop-filter: blur(30px) saturate(180%);
            display: flex; padding: 7px; border-radius: 100px;
            border: 1px solid var(--border); box-shadow: 0 20px 50px rgba(0,0,0,0.25);
        }
        .dock-item {
            flex: 1; text-align: center; padding: 15px 0; font-size: 15px;
            font-weight: 900; color: var(--sub); cursor: pointer;
            border-radius: 100px; transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
        }
        .dock-item.active {
            color: #ffffff; background: var(--p);
            box-shadow: 0 10px 25px rgba(67, 97, 238, 0.4);
            transform: translateY(-2px);
        }

        /* =============================================
           ğŸ¢ 5. å½ˆçª—èˆ‡è³‡è¨Š
           ============================================= */
        .modal-mask {
            position: fixed; inset: 0; background: rgba(0,0,0,0.88);
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            z-index: 9999; display: none; align-items: center; justify-content: center; padding: 25px;
        }
        .modal-mask.open { display: flex; }

        .modal-window {
            background: var(--bg); width: 100%; max-width: 380px;
            border-radius: 40px; overflow: hidden; border: 1px solid var(--border);
            box-shadow: 0 40px 100px rgba(0,0,0,0.6);
            animation: springIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes springIn { from { opacity: 0; transform: translateY(50px) scale(0.9); } to { opacity: 1; transform: translateY(0) scale(1); } }

        .modal-hero { background: linear-gradient(135deg, var(--p), var(--g)); color: white; padding: 45px 30px; text-align: center; }
        .u-avatar { width: 75px; height: 75px; background: rgba(255,255,255,0.25); border: 3px solid #fff; border-radius: 50%; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 32px; font-weight: 900; }
        
        .modal-main { padding: 35px; }
        .u-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
        .badge { background: var(--p); color: white; padding: 7px 15px; border-radius: 12px; font-size: 13px; font-weight: 900; }
        
        .log-area {
            background: rgba(0,0,0,0.05); border-radius: 25px; padding: 25px; 
            height: 180px; overflow-y: auto; font-size: 14px; line-height: 1.8; color: var(--sub);
            border: 1px solid var(--border);
        }
        .dark-mode .log-area { background: rgba(255,255,255,0.04); }
        .btn-confirm {
            width: 100%; padding: 20px; background: var(--text); color: var(--bg);
            border: none; border-radius: 25px; font-weight: 900; margin-top: 30px;
            cursor: pointer; font-size: 16px;
        }
    </style>
</head>
<body data-layout="list-mode">

    <div id="top-announcer" style="background:var(--banner-bg); color:var(--banner-text); padding:10px; font-size:13px; text-align:center; font-weight:800; border-bottom:1px solid var(--border);"></div>

    <header>
        <div class="brand">
            <h1>ç­ç´šæ•¸ä½å¹³å°</h1>
            <p>Classroom Haptic Hub</p>
        </div>
        <div class="header-tools">
            <div class="switch-base">
                <button class="tool-btn" id="btn-list" onclick="app.setLayout('list-mode')">
                    <svg viewBox="0 0 24 24"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><path d="M3 6h.01M3 12h.01M3 18h.01"/></svg>
                </button>
                <button class="tool-btn" id="btn-grid" onclick="app.setLayout('grid-mode')">
                    <svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
                </button>
            </div>
            <button class="tool-btn circle-btn" onclick="app.toggleTheme()">
                <svg id="theme-svg" viewBox="0 0 24 24"></svg>
            </button>
            <button class="tool-btn circle-btn" onclick="app.showModal(true)">
                <svg viewBox="0 0 24 24"><path d="M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18zM12 8v4M12 16h.01"/></svg>
            </button>
        </div>
    </header>

    <main class="main-viewport" id="scroll-engine">
        <section class="panel-section"><div class="items-grid">
            <a href="è¡Œäº‹æ›†/index.html" class="data-card"><div class="icon-box">ğŸ“…</div><div class="info-box"><h2>ç­ç´šè¡Œäº‹æ›†</h2><p>æŒæ¡è€ƒç¨‹èˆ‡æ´»å‹•é‡è¦æ—¥ç¨‹</p></div></a>
            <a href="countdown/index.html" class="data-card"><div class="icon-box">â³</div><div class="info-box"><h2>è€ƒç¨‹å€’æ•¸</h2><p>æˆ°é¬¥æ™‚åˆ»ï¼Œæ¯ç§’ç²¾ç¢ºè¨ˆç®—</p></div></a>
            <a href="homework/index.html" class="data-card"><div class="icon-box">ğŸ“’</div><div class="info-box"><h2>ä½œæ¥­å½™æ•´</h2><p>ä»Šæ—¥äº‹ä»Šæ—¥ç•¢ï¼Œä½œæ¥­æ¸…å–®æ›´æ–°</p></div></a>
        </div></section>

        <section class="panel-section"><div class="items-grid">
            <a href="help/student.html" class="data-card"><div class="icon-box">ğŸŒ±</div><div class="info-box"><h2>å¿ƒè²è«®è©¢</h2><p>å‚¾è½ä½ çš„å£“åŠ›èˆ‡æƒ³æ³•</p></div></a>
            <a href="unknownmail/index.html" class="data-card"><div class="icon-box">ãŠ™ï¸</div><div class="info-box"><h2>åŠ å¯†ä¿¡ç®±</h2><p>å®‰å…¨åŒ¿åçš„è¨Šæ¯å‚³é</p></div></a>
            <a href="åŒ¿å/index.html" class="data-card"><div class="icon-box">âœ¨</div><div class="info-box"><h2>åŒ¿åè¨±é¡˜æ± </h2><p>è®“ç­ç´šè®Šå¾—æ›´ç¾å¥½çš„é»å­</p></div></a>
        </div></section>

        <section class="panel-section"><div class="items-grid">
            <a href="cleaning/index.html" class="data-card"><div class="icon-box">ğŸ§¹</div><div class="info-box"><h2>å‹¤å‹™è¿½è¹¤</h2><p>æ•´æ½”å€åŸŸèˆ‡è²¬ä»»åˆ†å·¥</p></div></a>
            <a href="seating/index.html" class="data-card"><div class="icon-box">ğŸª‘</div><div class="info-box"><h2>é¸ä½ç³»çµ±</h2><p>å…¬å¹³é€æ˜çš„æ•¸ä½é¸ä½</p></div></a>
            <a href="vote/index.html" class="data-card"><div class="icon-box">ğŸ—³ï¸</div><div class="info-box"><h2>æ•¸ä½æŠ•ç¥¨</h2><p>å³æ™‚è¡¨æ±ºç­ç´šäº‹å‹™</p></div></a>
        </div></section>

        <section class="panel-section"><div class="items-grid">
            <a href="exam_calc/index.html" class="data-card"><div class="icon-box">ğŸ“</div><div class="info-box"><h2>æ®µè€ƒåˆ†æ</h2><p>æ•¸æ“šåŒ–ä½ çš„æˆç¸¾è¡¨ç¾</p></div></a>
            <a href="final_calc/index.html" class="data-card"><div class="icon-box">ğŸ“ˆ</div><div class="info-box"><h2>å­¸æœŸè©•ä¼°</h2><p>é æ¸¬å­¸åˆ†èˆ‡å­¸ç¿’æ›²ç·š</p></div></a>
        </div></section>
    </main>

    <nav class="dock-wrapper">
        <div class="dock-body" id="bottom-nav">
            <div class="dock-item" onclick="app.jump(0)">æé†’</div>
            <div class="dock-item" onclick="app.jump(1)">äº’å‹•</div>
            <div class="dock-item" onclick="app.jump(2)">ç­å‹™</div>
            <div class="dock-item" onclick="app.jump(3)">æˆç¸¾</div>
        </div>
    </nav>

    <div class="modal-mask" id="main-modal">
        <div class="modal-window">
            <div class="modal-hero"><div class="u-avatar">ç‹</div><h3 id="u-name" style="margin:0"></h3><p id="u-title" style="margin:5px 0 0; font-size:12px; opacity:0.8"></p></div>
            <div class="modal-main">
                <div class="u-row"><span class="badge" id="u-ver"></span><a href="#" class="badge" style="background:#fff; color:var(--p); text-decoration:none;">ğŸ“– æ•™å­¸æ–‡ä»¶</a></div>
                <div class="log-area" id="u-logs"></div>
                <button class="btn-confirm" onclick="app.showModal(false)">é—œé–‰è¦–çª—</button>
            </div>
        </div>
    </div>

    <script>
        /**
         * ğŸ æ——è‰¦ç´šå…¨åŠŸèƒ½æ§åˆ¶å™¨
         */
        const app = {
            state: {
                idx: parseInt(localStorage.getItem('lastPage')) || 0,
                isDark: document.documentElement.classList.contains('dark-mode'),
                layout: localStorage.getItem('layout') || 'list-mode'
            },

            // ğŸ“³ [é‡é»] æ ¸å¿ƒéœ‡å‹•é©…å‹•å¼•æ“
            vibrate: function(ms = 25) {
                if (typeof navigator !== "undefined" && navigator.vibrate) {
                    navigator.vibrate(ms);
                }
            },

            // ğŸš€ åˆ†é åˆ‡æ› (å…·å‚™åŸåœ°é–å®š)
            jump: function(i, behavior = 'smooth') {
                if (behavior === 'smooth') this.vibrate(20); // é»æ“Šå°è¦½åˆ—éœ‡å‹•
                const engine = document.getElementById('scroll-engine');
                engine.scrollTo({ left: i * engine.offsetWidth, behavior: behavior });
                this.state.idx = i;
                localStorage.setItem('lastPage', i);
                this.updateUI();
            },

            // ğŸ¨ ä¸»é¡Œåˆ‡æ› (å¤–æ®¼åŒæ­¥ + éœ‡å‹•)
            toggleTheme: function() {
                this.vibrate(40); // åˆ‡æ›ä¸»é¡Œéœ‡å‹•å¼·ä¸€é»
                this.state.isDark = !this.state.isDark;
                document.documentElement.classList.toggle('dark-mode', this.state.isDark);
                localStorage.setItem('theme', this.state.isDark ? 'dark' : 'light');
                this.syncShell();
                this.repaintSVGs();
            },

            // ğŸ“ ä½ˆå±€åˆ‡æ› (é«˜å°æ¯”è‰² + éœ‡å‹•)
            setLayout: function(mode) {
                this.vibrate(20);
                document.documentElement.setAttribute('data-layout', mode);
                this.state.layout = mode;
                localStorage.setItem('layout', mode);
                this.updateUI();
                this.repaintSVGs();
                setTimeout(() => this.jump(this.state.idx, 'auto'), 50);
            },

            // ğŸ› ï¸ å…§éƒ¨æ¸²æŸ“å™¨
            updateUI: function() {
                // æ›´æ–°å°è¦½åˆ—
                const tabs = document.querySelectorAll('.dock-item');
                tabs.forEach((t, i) => t.classList.toggle('active', i === this.state.idx));

                // æ›´æ–°ä½ˆå±€æŒ‰éˆ•
                document.getElementById('btn-list').classList.toggle('active', this.state.layout === 'list-mode');
                document.getElementById('btn-grid').classList.toggle('active', this.state.layout === 'grid-mode');
            },

            syncShell: function() {
                const color = this.state.isDark ? "#020617" : "#f8fafc";
                document.getElementById('chrome-theme').content = color;
                document.getElementById('safari-theme').content = this.state.isDark ? "black-translucent" : "default";
                
                const icon = document.getElementById('theme-svg');
                icon.innerHTML = this.state.isDark 
                    ? `<circle cx="12" cy="12" r="5" fill="currentColor"/><path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor"/>`
                    : `<path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" fill="currentColor"/>`;
            },

            repaintSVGs: function() {
                // æš´åŠ›é‡ç¹ªé˜²æ¶ˆå¤±
                document.body.style.display = 'none';
                document.body.offsetHeight;
                document.body.style.display = 'block';
            },

            showModal: function(show) {
                if (show) {
                    this.vibrate(30);
                    document.getElementById('u-name').innerText = MASTER_CONFIG.dev.name;
                    document.getElementById('u-title').innerText = MASTER_CONFIG.dev.title;
                    document.getElementById('u-ver').innerText = MASTER_CONFIG.dev.ver;
                    document.getElementById('u-logs').innerHTML = MASTER_CONFIG.dev.logs.join('<br>');
                    document.getElementById('main-modal').classList.add('open');
                } else {
                    document.getElementById('main-modal').classList.remove('open');
                }
            }
        };

        // ğŸ—ï¸ åˆå§‹åŒ–æ›è¼‰
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('top-announcer').innerText = MASTER_CONFIG.banner;
            app.syncShell();
            app.updateUI();
            
            // åŸåœ°é–å®šåŸ·è¡Œ
            setTimeout(() => {
                app.jump(app.state.idx, 'auto');
                document.documentElement.setAttribute('data-ready', 'true');
            }, 60);

            // æ»¾å‹•ç›£è½
            document.getElementById('scroll-engine').addEventListener('scroll', () => {
                const engine = document.getElementById('scroll-engine');
                const newIdx = Math.round(engine.scrollLeft / engine.offsetWidth);
                if (newIdx !== app.state.idx) {
                    app.state.idx = newIdx;
                    localStorage.setItem('lastPage', newIdx);
                    app.updateUI();
                }
            }, { passive: true });
        });

        window.onload = () => app.jump(app.state.idx, 'auto');
        window.onresize = () => app.jump(app.state.idx, 'auto');
    </script>
</body>
</html>
