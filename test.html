<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ç­ç´šæ•¸ä½å¹³å° 11.0</title>
    
    <meta name="theme-color" id="metaThemeColor" content="#f8fafc">

    <script>
        // 1. é ‚éƒ¨æ©«å¹…å…¬å‘Šå…§å®¹ (è‹¥è¨­ç‚ºç©ºå­—ä¸² "" å‰‡æœƒéš±è—å…¬å‘Š)
        const GLOBAL_ANNOUNCEMENT = "ğŸ“¢ ç³»çµ±å…¬å‘Šï¼šä¸‹é€±ä¸€é€²è¡Œæ®µè€ƒåˆ†ææ›´æ–°ï¼Œè«‹å„ä½æº–æ™‚ä¸Šå‚³æˆç¸¾ã€‚";

        // 2. Information å½ˆçª—å…§å®¹
        const AUTHOR_CONFIG = {
            name: "ç‹å®¥éˆ",
            role: "æ ¸å¿ƒç³»çµ±æ¶æ§‹å¸«",
            version: "v11.0.2-Flagship",
            tutorialUrl: "https://your-tutorial-link.com",
            logs: [
                "é¡è‰²åŒæ­¥ï¼šåˆ‡æ›æ¨¡å¼æ™‚ï¼Œæ‰‹æ©Ÿç¶²å€åˆ—èˆ‡ç‹€æ…‹åˆ—æœƒåŒæ­¥è®Šè‰²ã€‚",
                "å…¬å‘Šç³»çµ±ï¼šæ–°å¢é ‚éƒ¨æ©«å¹…è­¦å‘Šè¨Šæ¯åŠŸèƒ½ã€‚",
                "ä½ˆå±€ä¿®æ­£ï¼šä¿®å¾©æ‰‹æ©Ÿç‰ˆåˆ‡æ›æŒ‰éˆ•æ¶ˆå¤±èˆ‡æº¢å‡ºå•é¡Œã€‚",
                "æ¥µé€Ÿä¿®æ”¹ï¼šå°‡æ‰€æœ‰é—œéµè³‡è¨ŠæŠ½é›¢è‡³ç¨‹å¼ç¢¼æœ€ä¸Šæ–¹ã€‚"
            ]
        };
    </script>
    <script>
        // âš¡ æ ¸å¿ƒé˜²é–ƒçˆèˆ‡ä¸»é¡Œåˆå§‹åŒ–
        (function() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            if (savedTheme === 'dark') {
                document.documentElement.classList.add('dark-mode');
            }
            const savedLayout = localStorage.getItem('layout') || 'list-mode';
            document.documentElement.setAttribute('data-layout', savedLayout);
        })();
    </script>

    <style>
        :root {
            --p: #4361ee; --bg: #f8fafc; --card: #ffffff; --text: #0f172a;
            --sub-text: #64748b; --border: #e2e8f0;
            --nav-bg: rgba(255, 255, 255, 0.75);
            --safe-bottom: env(safe-area-inset-bottom, 20px);
            --warn-bg: #fee2e2; --warn-text: #991b1b;
        }

        .dark-mode {
            --bg: #020617; --card: #1e293b; --text: #f1f5f9;
            --sub-text: #94a3b8; --border: #334155;
            --nav-bg: rgba(30, 41, 59, 0.75);
            --warn-bg: #450a0a; --warn-text: #fecaca;
        }

        /* ğŸ›‘ å¾¹åº•é–å®šæ‰‹æ©Ÿæ‹‰æ¡¿ */
        html, body { 
            margin: 0; padding: 0; width: 100%; height: 100dvh; 
            overflow: hidden !important; position: fixed; 
            font-family: 'PingFang TC', system-ui, sans-serif; 
            background-color: var(--bg); color: var(--text);
            transition: background-color 0.3s ease;
        }

        /* --- é ‚éƒ¨å…¬å‘Šæ©«å¹… --- */
        .announcement-bar {
            background: var(--warn-bg); color: var(--warn-text);
            padding: 8px 16px; font-size: 0.8rem; font-weight: 700;
            text-align: center; border-bottom: 1px solid rgba(0,0,0,0.05);
            display: none; /* é è¨­éš±è—ï¼Œç”± JS æ§åˆ¶é¡¯ç¤º */
        }

        /* --- Header ä¿®æ­£ --- */
        .header { 
            height: 65px; width: 100%; padding: 0 12px; display: flex; 
            justify-content: space-between; align-items: center; 
            border-bottom: 1px solid var(--border); background: var(--bg);
            z-index: 1000; box-sizing: border-box;
        }
        .header-titles { flex: 1; min-width: 0; }
        .header-titles h1 { margin: 0; font-size: 1rem; font-weight: 900; color: var(--p); white-space: nowrap; }
        .header-titles p { margin: 0; font-size: 0.55rem; color: var(--sub-text); font-weight: 800; }
        
        /* ç¢ºä¿æŒ‰éˆ•åœ¨æ‰‹æ©Ÿä¸Šä¸æœƒè¢«æ“ å£“æ¶ˆå¤± */
        .header-actions { display: flex; gap: 6px; align-items: center; flex-shrink: 0; }

        .segmented-control { display: flex; background: var(--border); padding: 2px; border-radius: 10px; }
        .seg-btn { width: 30px; height: 26px; border: none; background: none; border-radius: 8px; color: var(--sub-text); display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .seg-btn.active { color: var(--p); background: var(--card); box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .seg-btn svg { width: 14px; height: 14px; fill: none; stroke: currentColor; stroke-width: 3; }

        .circle-btn { width: 34px; height: 34px; border: none; border-radius: 10px; background: var(--border); color: var(--text); display: flex; align-items: center; justify-content: center; cursor: pointer; flex-shrink: 0; }
        
        /* ğŸ¨ ç²¾è£½å°å¯« i */
        .info-btn svg { width: 20px; height: 20px; stroke: currentColor; stroke-width: 2.2; fill: none; }

        /* --- å…§å®¹æ»¾å‹•å€ --- */
        .main-scroller { 
            display: flex; width: 100%; height: calc(100dvh - 65px); 
            overflow-x: auto; overflow-y: hidden; 
            scroll-snap-type: x mandatory; scrollbar-width: none;
            -webkit-overflow-scrolling: touch;
        }
        .main-scroller::-webkit-scrollbar { display: none; }
        .page-section { flex: 0 0 100%; width: 100%; height: 100%; scroll-snap-align: start; overflow-y: auto; padding: 15px 16px 180px; box-sizing: border-box; }

        /* --- ä½ˆå±€é‚è¼¯ --- */
        .menu-list { display: grid; gap: 12px; width: 100%; max-width: 1100px; margin: 0 auto; }
        [data-layout="list-mode"] .menu-list { grid-template-columns: 1fr; }
        @media (min-width: 768px) { [data-layout="list-mode"] .menu-list { grid-template-columns: 1fr 1fr; } }
        [data-layout="grid-mode"] .menu-list { grid-template-columns: repeat(3, 1fr); gap: 10px; }
        @media (min-width: 768px) { [data-layout="grid-mode"] .menu-list { grid-template-columns: repeat(6, 1fr); } }

        .menu-item { background: var(--card); border-radius: 18px; border: 1px solid var(--border); text-decoration: none; color: inherit; display: flex; }
        [data-layout="list-mode"] .menu-item { padding: 18px; align-items: center; }
        [data-layout="grid-mode"] .menu-item { flex-direction: column; padding: 20px 10px; text-align: center; aspect-ratio: 1/1; justify-content: center; }
        .icon-box { background: var(--bg); display: flex; align-items: center; justify-content: center; }
        [data-layout="list-mode"] .icon-box { width: 44px; height: 44px; margin-right: 15px; font-size: 20px; border-radius: 12px; }
        [data-layout="grid-mode"] .icon-box { width: 40px; height: 40px; margin: 0 auto 8px; border-radius: 50%; font-size: 18px; }
        .info h2 { margin: 0; font-size: 0.9rem; font-weight: 800; }
        .info p { margin: 3px 0 0; font-size: 0.7rem; color: var(--sub-text); }

        /* --- ç»ç’ƒè³ªæ„Ÿå°è¦½æ¬„ --- */
        .bottom-nav-container { position: fixed; bottom: calc(15px + var(--safe-bottom)); left: 50%; transform: translateX(-50%); width: 92%; max-width: 400px; z-index: 2000; }
        .bottom-nav { background: var(--nav-bg); backdrop-filter: blur(20px) saturate(180%); -webkit-backdrop-filter: blur(20px) saturate(180%); border-radius: 100px; display: flex; padding: 6px; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 10px 40px rgba(0,0,0,0.15); }
        .nav-item { flex: 1; text-align: center; padding: 12px 0; font-size: 0.85rem; font-weight: 800; color: #94a3b8; cursor: pointer; border-radius: 100px; transition: 0.2s; }
        .nav-item.active { color: white; background: var(--p); box-shadow: 0 4px 15px rgba(67, 97, 238, 0.4); }

        /* --- Modal é‚„åŸ 8.0 ç¶“å…¸æ¨£å¼ --- */
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.85); backdrop-filter: blur(10px); z-index: 3000; display: none; align-items: center; justify-content: center; padding: 20px; }
        .modal-overlay.show { display: flex; }
        .modal { background: var(--bg); width: 100%; max-width: 350px; border-radius: 30px; overflow: hidden; animation: pop 0.3s forwards; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .author-section { background: linear-gradient(135deg, #4361ee, #7209b7); color: white; padding: 35px 20px; text-align: center; }
        .author-section .avatar { width: 50px; height: 50px; background: rgba(255,255,255,0.2); border-radius: 50%; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center; font-size: 22px; font-weight: 900; border: 2px solid white; }
        .author-section h3 { margin: 0; font-size: 1.3rem; font-weight: 900; }
        .modal-body { padding: 25px; }
        .meta-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .ver-label { background: var(--border); color: var(--p); padding: 4px 10px; border-radius: 8px; font-size: 0.7rem; font-weight: 800; }
        .log-list { margin: 15px 0; padding: 0; list-style: none; border-top: 1px solid var(--border); padding-top: 15px; }
        .log-list li { font-size: 0.85rem; color: var(--sub-text); padding: 6px 0; display: flex; gap: 8px; }
        .modal-close { width: 100%; padding: 14px; background: var(--text); color: var(--bg); border: none; border-radius: 18px; font-weight: 900; cursor: pointer; }
        
        @keyframes pop { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body data-layout="list-mode">

    <div id="announcement" class="announcement-bar"></div>

    <div class="header">
        <div class="header-titles">
            <h1>ç­ç´šæ•¸ä½å¹³å°</h1>
            <p>CLASSROOM HUB ELITE</p>
        </div>
        <div class="header-actions">
            <div class="segmented-control">
                <button class="seg-btn" id="listSeg" onclick="setLayout('list-mode')">
                    <svg viewBox="0 0 24 24"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><path d="M3 6h.01M3 12h.01M3 18h.01"/></svg>
                </button>
                <button class="seg-btn" id="gridSeg" onclick="setLayout('grid-mode')">
                    <svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
                </button>
            </div>
            
            <button class="circle-btn" id="themeBtn">
                <svg id="sunIcon" viewBox="0 0 24 24" style="display:none;fill:none;stroke:currentColor;stroke-width:2.5;"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
                <svg id="moonIcon" viewBox="0 0 24 24" style="fill:none;stroke:currentColor;stroke-width:2.5;"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
            </button>

            <button class="circle-btn info-btn" onclick="openInfo()">
                <svg viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="10" stroke-opacity="0.3"></circle>
                    <path d="M12 11v6"></path>
                    <circle cx="12" cy="7.5" r="1.2" fill="currentColor" stroke="none"></circle>
                </svg>
            </button>
        </div>
    </div>

    <div class="main-scroller" id="mainScroller">
        <section class="page-section"><div class="menu-list">
            <a href="è¡Œäº‹æ›†/index.html" class="menu-item"><div class="icon-box">ğŸ“…</div><div class="info"><h2>ç­ç´šè¡Œäº‹æ›†</h2><p>æŒæ¡é‡è¦æ™‚ç¨‹ä¸æ¼æ¥</p></div></a>
            <a href="countdown/index.html" class="menu-item"><div class="icon-box">â³</div><div class="info"><h2>è€ƒç¨‹å€’æ•¸</h2><p>æˆ°é¬¥æ™‚åˆ»ï¼Œç²¾ç¢ºå€’è¨ˆ</p></div></a>
            <a href="homework/index.html" class="menu-item"><div class="icon-box">ğŸ“’</div><div class="info"><h2>ä½œæ¥­å½™æ•´</h2><p>æ¯æ—¥ä½œæ¥­æ¸…å–®æ›´æ–°</p></div></a>
        </div></section>
        
        <section class="page-section"><div class="menu-list">
            <a href="help/student.html" class="menu-item"><div class="icon-box">ğŸŒ±</div><div class="info"><h2>å¿ƒè²è«®è©¢</h2><p>æº«å’Œå‚¾è½ä½ çš„æƒ³æ³•</p></div></a>
            <a href="unknownmail/index.html" class="menu-item"><div class="icon-box">ãŠ™ï¸</div><div class="info"><h2>åŠ å¯†ä¿¡ç®±</h2><p>å®‰å…¨è¨Šæ¯å‚³é</p></div></a>
            <a href="åŒ¿å/index.html" class="menu-item"><div class="icon-box">âœ¨</div><div class="info"><h2>åŒ¿åè¨±é¡˜æ± </h2><p>ç­ç´šäº’å‹•çš„å°å¤©åœ°</p></div></a>
            <a href="board/index.html" class="menu-item"><div class="icon-box">ğŸ’¬</div><div class="info"><h2>å…¬å‹™è¨è«–å€</h2><p>åƒèˆ‡ç­ç´šæ±ºç­–</p></div></a>
        </div></section>

        <section class="page-section"><div class="menu-list">
            <a href="cleaning/index.html" class="menu-item"><div class="icon-box">ğŸ§¹</div><div class="info"><h2>å‹¤å‹™è¿½è¹¤</h2><p>æ‰“æƒå€åŸŸç®¡ç†</p></div></a>
            <a href="seating/index.html" class="menu-item"><div class="icon-box">ğŸª‘</div><div class="info"><h2>é¸ä½ç³»çµ±</h2><p>å…¬å¹³é¸ä½æ©Ÿåˆ¶</p></div></a>
            <a href="vote/index.html" class="menu-item"><div class="icon-box">ğŸ—³ï¸</div><div class="info"><h2>æ•¸ä½æŠ•ç¥¨</h2><p>ä¸€éµè¡¨æ±ºç­å‹™</p></div></a>
            <a href="grouping/index.html" class="menu-item"><div class="icon-box">ğŸ²</div><div class="info"><h2>éš¨æ©Ÿåˆ†çµ„</h2><p>å¤šå…ƒåˆ†çµ„æ©Ÿåˆ¶</p></div></a>
        </div></section>

        <section class="page-section"><div class="menu-list">
            <a href="exam_calc/index.html" class="menu-item"><div class="icon-box">ğŸ“</div><div class="info"><h2>æ®µè€ƒåˆ†æ</h2><p>æˆç¸¾æ•¸æ“šæ ¸ç®—</p></div></a>
            <a href="final_calc/index.html" class="menu-item"><div class="icon-box">ğŸ“ˆ</div><div class="info"><h2>å­¸æœŸè©•ä¼°</h2><p>å­¸åˆ†é ä¼°ç³»çµ±</p></div></a>
        </div></section>
    </div>

    <div class="bottom-nav-container">
        <div class="bottom-nav">
            <div class="nav-item" onclick="scrollToPage(0)">æé†’</div>
            <div class="nav-item" onclick="scrollToPage(1)">äº’å‹•</div>
            <div class="nav-item" onclick="scrollToPage(2)">ç­å‹™</div>
            <div class="nav-item" onclick="scrollToPage(3)">æˆç¸¾</div>
        </div>
    </div>

    <div class="modal-overlay" id="infoModal">
        <div class="modal">
            <div class="author-section">
                <div class="avatar">ç‹</div>
                <h3 id="m-name">ä½œè€…</h3>
                <p id="m-role">æ ¸å¿ƒé–‹ç™¼è€…</p>
            </div>
            <div class="modal-body">
                <div class="meta-row">
                    <span class="ver-label" id="m-ver">v.0.0</span>
                    <a href="#" id="m-guide" target="_blank" style="font-size:0.8rem; color:var(--p); font-weight:800; text-decoration:none;">ä½¿ç”¨æ•™å­¸</a>
                </div>
                <ul class="log-list" id="m-log"></ul>
                <button class="modal-close" onclick="closeInfo()">é—œé–‰</button>
            </div>
        </div>
    </div>

    <script>
        const scroller = document.getElementById('mainScroller');
        const navItems = document.querySelectorAll('.nav-item');
        
        let isDarkMode = localStorage.getItem('theme') === 'dark';
        let layout = localStorage.getItem('layout') || 'list-mode';
        let page = parseInt(localStorage.getItem('lastPage')) || 0;

        // æ ¸å¿ƒï¼šå³æ™‚åŒæ­¥ç€è¦½å™¨ç‹€æ…‹åˆ—é¡è‰²
        function syncBrowserTheme() {
            const meta = document.getElementById('metaThemeColor');
            // æ ¹æ“šæ¨¡å¼æ±ºå®šç¶²å€åˆ—é¡è‰²
            const themeColor = isDarkMode ? "#020617" : "#f8fafc";
            meta.setAttribute('content', themeColor);
        }

        function updateUI() {
            document.documentElement.classList.toggle('dark-mode', isDarkMode);
            document.getElementById('sunIcon').style.display = isDarkMode ? 'block' : 'none';
            document.getElementById('moonIcon').style.display = isDarkMode ? 'none' : 'block';
            navItems.forEach((item, i) => item.classList.toggle('active', i === page));
            syncBrowserTheme(); // åŒæ­¥è®Šæ›´æ‰‹æ©Ÿå¤–æ®¼é¡è‰²
        }

        // å…¬å‘Šç³»çµ±åˆå§‹åŒ–
        function initAnnouncement() {
            const bar = document.getElementById('announcement');
            if (GLOBAL_ANNOUNCEMENT) {
                bar.innerText = GLOBAL_ANNOUNCEMENT;
                bar.style.display = 'block';
            }
        }

        scroller.addEventListener('scroll', () => {
            page = Math.round(scroller.scrollLeft / scroller.offsetWidth);
            updateUI();
            localStorage.setItem('lastPage', page);
        }, { passive: true });

        function scrollToPage(idx) {
            scroller.scrollTo({ left: idx * scroller.offsetWidth, behavior: 'smooth' });
        }

        function setLayout(mode) {
            document.body.setAttribute('data-layout', mode);
            document.getElementById('listSeg').classList.toggle('active', mode === 'list-mode');
            document.getElementById('gridSeg').classList.toggle('active', mode === 'grid-mode');
            localStorage.setItem('layout', mode);
        }

        document.getElementById('themeBtn').onclick = () => {
            isDarkMode = !isDarkMode;
            localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
            updateUI();
        };

        function openInfo() {
            document.getElementById('m-name').innerText = AUTHOR_CONFIG.name;
            document.getElementById('m-role').innerText = AUTHOR_CONFIG.role;
            document.getElementById('m-ver').innerText = AUTHOR_CONFIG.version;
            document.getElementById('m-guide').href = AUTHOR_CONFIG.tutorialUrl;
            document.getElementById('m-log').innerHTML = AUTHOR_CONFIG.logs.map(l => `<li><span>â€¢</span> ${l}</li>`).join('');
            document.getElementById('infoModal').classList.add('show');
        }
        function closeInfo() { document.getElementById('infoModal').classList.remove('show'); }

        // --- åˆå§‹åŒ–æ ¡æº– ---
        window.addEventListener('load', () => {
            initAnnouncement();
            setLayout(layout);
            updateUI();
            setTimeout(() => {
                scroller.scrollTo({ left: page * scroller.offsetWidth, behavior: 'auto' });
            }, 60);
        });
    </script>
</body>
</html>
