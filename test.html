<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>macOS Sequoia Ultra Simulator</title>
    <style>
        :root {
            --m-h: 32px;
            --d-h: 68px;
            --win-rad: 12px;
            --glass: blur(40px) saturate(180%);
            --font: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", sans-serif;
        }

        * { box-sizing: border-box; -webkit-font-smoothing: antialiased; margin: 0; padding: 0; user-select: none; }
        body, html { width: 100vw; height: 100vh; font-family: var(--font); overflow: hidden; background: #000; }

        /* --- 1. Login Screen --- */
        #login-screen {
            position: fixed; inset: 0; z-index: 100000;
            background: url('https://raw.githubusercontent.com/apple/sequoia-wallpaper/main/sequoia.jpg') center/cover;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: transform 0.8s cubic-bezier(0.45, 0, 0.55, 1), opacity 0.5s;
        }
        .login-user { text-align: center; color: #fff; }
        .avatar { width: 120px; height: 120px; border-radius: 50%; border: 2px solid rgba(255,255,255,0.4); margin-bottom: 20px; }
        .pass-input { background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); border-radius: 20px; padding: 8px 15px; color: #fff; text-align: center; width: 180px; outline: none; backdrop-filter: blur(10px); }
        .login-hint { margin-top: 15px; font-size: 13px; opacity: 0.7; }

        /* --- 2. Desktop Environment --- */
        #desktop { width: 100%; height: 100%; background: url('https://images.apple.com/v/macos/sequoia/a/images/overview/hero/hero_wallpaper__eq8u3n8y7u6u_large.jpg') center/cover; display: none; }
        
        /* Menu Bar */
        .menu-bar {
            height: var(--m-h); background: rgba(255, 255, 255, 0.15); backdrop-filter: var(--glass);
            position: fixed; top: 0; width: 100%; z-index: 10000; display: flex; align-items: center;
            padding: 0 15px; color: #fff; font-size: 13px; font-weight: 600;
        }
        .menu-left, .menu-right { display: flex; gap: 15px; align-items: center; }
        .menu-right { flex: 1; justify-content: flex-end; }

        /* Window System (8-way Resize) */
        .window {
            position: absolute; min-width: 400px; min-height: 300px; background: rgba(255,255,255,0.8);
            backdrop-filter: var(--glass); border-radius: var(--win-rad); display: flex; flex-direction: column;
            box-shadow: 0 30px 60px rgba(0,0,0,0.3); border: 0.5px solid rgba(255,255,255,0.4);
            z-index: 100; overflow: visible;
        }
        .win-header { height: 45px; display: flex; align-items: center; padding: 0 15px; border-bottom: 0.5px solid rgba(0,0,0,0.1); cursor: default; }
        .traffic-lights { display: flex; gap: 8px; width: 60px; }
        .dot { width: 12px; height: 12px; border-radius: 50%; }
        .d-close { background: #FF5F57; } .d-min { background: #FEBC2E; } .d-max { background: #28C840; }
        .win-body { flex: 1; overflow: hidden; background: #fff; border-bottom-left-radius: var(--win-rad); border-bottom-right-radius: var(--win-rad); }

        /* Resizers */
        .resizer { position: absolute; background: transparent; z-index: 1; }
        .resizer-r { right: -5px; top: 0; bottom: 0; width: 10px; cursor: ew-resize; }
        .resizer-l { left: -5px; top: 0; bottom: 0; width: 10px; cursor: ew-resize; }
        .resizer-b { bottom: -5px; left: 0; right: 0; height: 10px; cursor: ns-resize; }
        .resizer-t { top: -5px; left: 0; right: 0; height: 10px; cursor: ns-resize; }
        .resizer-rb { right: -5px; bottom: -5px; width: 15px; height: 15px; cursor: nwse-resize; }

        /* --- 3. Launchpad --- */
        #launchpad {
            position: fixed; inset: 0; z-index: 9000; display: none;
            background: rgba(0,0,0,0.3); backdrop-filter: blur(50px);
            padding: 100px 10%; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 40px;
        }
        .lp-app { display: flex; flex-direction: column; align-items: center; color: #fff; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }
        .lp-app img { width: 80px; height: 80px; margin-bottom: 10px; }

        /* --- 4. Dock --- */
        .dock {
            position: fixed; bottom: 10px; left: 50%; transform: translateX(-50%);
            background: rgba(255,255,255,0.25); backdrop-filter: var(--glass);
            border-radius: 24px; padding: 8px; display: flex; align-items: flex-end;
            gap: 12px; border: 1px solid rgba(255,255,255,0.2); z-index: 10001;
        }
        .dock-app {
            width: 52px; height: 52px; transition: 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);
            position: relative; display: flex; flex-direction: column; align-items: center;
        }
        .dock-app img { width: 100%; height: 100%; cursor: pointer; }
        .dock-app:hover { width: 80px; height: 80px; margin: 0 10px; }
        .indicator { width: 4px; height: 4px; background: #fff; border-radius: 50%; margin-top: 4px; opacity: 0; }
        .indicator.active { opacity: 1; }

        .hidden { display: none !important; }
        iframe { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body>

<div id="login-screen">
    <div class="login-user">
        <img src="https://ui-avatars.com/api/?name=Lumina+User&background=007AFF&color=fff&size=200" class="avatar">
        <h2 style="margin-bottom: 20px;">Lumina User</h2>
        <input type="password" class="pass-input" placeholder="Enter Password" onkeydown="if(event.key==='Enter') System.unlock()">
        <p class="login-hint">ÈªûÊìäËº∏ÂÖ•Ê°Ü‰∏¶Êåâ‰∏ã Enter ÈÄ≤ÂÖ•Ê°åÈù¢</p>
    </div>
</div>

<div id="desktop">
    <nav class="menu-bar">
        <div class="menu-left">
            <span onclick="System.toggleLP()">Ô£ø</span>
            <b id="active-app">Finder</b>
            <span>Ê™îÊ°à</span><span>Á∑®ËºØ</span><span>È°ØÁ§∫</span><span>ÂâçÂæÄ</span>
        </div>
        <div class="menu-right">
            <span>üîã 100%</span>
            <span>üì∂</span>
            <span>üîç</span>
            <span id="clock">9:41 AM</span>
        </div>
    </nav>

    <div id="launchpad" onclick="System.toggleLP()">
        <div class="lp-app" onclick="System.open('safari')"><img src="https://upload.wikimedia.org/wikipedia/commons/5/52/Safari_browser_logo.png"><span>Safari</span></div>
        <div class="lp-app" onclick="System.open('maps')"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/Apple_Maps_icon.svg/1024px-Apple_Maps_icon.svg.png"><span>Âú∞Âúñ</span></div>
        <div class="lp-app" onclick="System.open('music')"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Apple_Music_icon.svg/1024px-Apple_Music_icon.svg.png"><span>Èü≥Ê®Ç</span></div>
        <div class="lp-app" onclick="System.open('settings')"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Apple_Settings_icon.svg/1024px-Apple_Settings_icon.svg.png"><span>Ë®≠ÂÆö</span></div>
    </div>

    <div id="win-safari" class="window hidden" style="top:80px; left:100px; width:1000px; height:700px;">
        <div class="win-header" onmousedown="WindowServer.drag(event, 'win-safari')">
            <div class="traffic-lights">
                <div class="dot d-close" onclick="System.close('safari')"></div>
                <div class="dot d-min" onclick="System.close('safari')"></div>
                <div class="dot d-max"></div>
            </div>
            <div style="flex:1; text-align:center; font-size:13px; font-weight:600;">Safari</div>
        </div>
        <div class="win-body">
            <iframe src="https://www.google.com/search?igu=1"></iframe>
        </div>
        <div class="resizer resizer-r" onmousedown="WindowServer.resize(event, 'win-safari', 'r')"></div>
        <div class="resizer resizer-b" onmousedown="WindowServer.resize(event, 'win-safari', 'b')"></div>
        <div class="resizer resizer-rb" onmousedown="WindowServer.resize(event, 'win-safari', 'rb')"></div>
    </div>

    <div id="win-maps" class="window hidden" style="top:120px; left:150px; width:600px; height:500px;">
        <div class="win-header" onmousedown="WindowServer.drag(event, 'win-maps')">
            <div class="traffic-lights"><div class="dot d-close" onclick="System.close('maps')"></div><div class="dot d-min"></div><div class="dot d-max"></div></div>
            <div style="flex:1; text-align:center; font-size:13px; font-weight:600;">Âú∞Âúñ</div>
        </div>
        <div class="win-body">
            <iframe src="https://www.openstreetmap.org/export/embed.html"></iframe>
        </div>
        <div class="resizer resizer-rb" onmousedown="WindowServer.resize(event, 'win-maps', 'rb')"></div>
    </div>

    <div class="dock">
        <div class="dock-app" onclick="System.open('safari')">
            <img src="https://upload.wikimedia.org/wikipedia/commons/5/52/Safari_browser_logo.png">
            <div class="indicator" id="ind-safari"></div>
        </div>
        <div class="dock-app" onclick="System.open('maps')">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/Apple_Maps_icon.svg/1024px-Apple_Maps_icon.svg.png">
            <div class="indicator" id="ind-maps"></div>
        </div>
        <div class="dock-app" onclick="System.toggleLP()">
            <img src="https://help.apple.com/assets/65E2101662998319D20349A1/65E2101962998319D20349A8/zh_TW/551532f5f725925e01b3d870857189f7.png">
        </div>
        <div class="dock-app" onclick="System.open('music')">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Apple_Music_icon.svg/1024px-Apple_Music_icon.svg.png">
        </div>
    </div>
</div>

<script>
const WindowServer = {
    z: 100,
    drag(e, id) {
        const el = document.getElementById(id);
        this.focus(el);
        let ox = e.clientX - el.offsetLeft, oy = e.clientY - el.offsetTop;
        const move = (ev) => { el.style.left = (ev.clientX - ox) + 'px'; el.style.top = (ev.clientY - oy) + 'px'; };
        const stop = () => { document.removeEventListener('mousemove', move); document.removeEventListener('mouseup', stop); };
        document.addEventListener('mousemove', move);
        document.addEventListener('mouseup', stop);
    },
    resize(e, id, type) {
        e.stopPropagation();
        const el = document.getElementById(id);
        let sw = el.offsetWidth, sh = el.offsetHeight, sx = e.clientX, sy = e.clientY;
        const move = (ev) => {
            if(type.includes('r')) el.style.width = (sw + (ev.clientX - sx)) + 'px';
            if(type.includes('b')) el.style.height = (sh + (ev.clientY - sy)) + 'px';
        };
        const stop = () => { document.removeEventListener('mousemove', move); document.removeEventListener('mouseup', stop); };
        document.addEventListener('mousemove', move);
        document.addEventListener('mouseup', stop);
    },
    focus(el) { el.style.zIndex = ++this.z; }
};

const System = {
    unlock() {
        const ls = document.getElementById('login-screen');
        ls.style.transform = "translateY(-100vh)";
        setTimeout(() => {
            ls.style.display = 'none';
            document.getElementById('desktop').style.display = 'block';
        }, 800);
    },
    toggleLP() {
        const lp = document.getElementById('launchpad');
        const isHidden = getComputedStyle(lp).display === 'none';
        lp.style.display = isHidden ? 'grid' : 'none';
    },
    open(id) {
        const win = document.getElementById('win-' + id);
        if(!win) return alert("ÊáâÁî®Á®ãÂºè‰ªçÂú®ÈñãÁôº‰∏≠ÔºÅ");
        win.classList.remove('hidden');
        WindowServer.focus(win);
        document.getElementById('active-app').innerText = id.charAt(0).toUpperCase() + id.slice(1);
        if(document.getElementById('ind-'+id)) document.getElementById('ind-'+id).classList.add('active');
    },
    close(id) {
        document.getElementById('win-' + id).classList.add('hidden');
        if(document.getElementById('ind-'+id)) document.getElementById('ind-'+id).classList.remove('active');
    }
};

// Update Clock
setInterval(() => {
    document.getElementById('clock').innerText = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
}, 1000);
</script>
</body>
</html>
