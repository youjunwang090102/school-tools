<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ç­ç´šæ•¸ä½å¹³å° 18.0 æ——è‰¦ç‰ˆ</title>

    <meta name="theme-color" id="chrome-theme" content="#f8fafc">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" id="safari-theme" content="default">

    <script>
        (function() {
            // 1. è®€å–ä¸»é¡Œ
            const theme = localStorage.getItem('theme') || 'light';
            if (theme === 'dark') {
                document.documentElement.classList.add('dark-mode');
            }
            
            // 2. è®€å–ä½ˆå±€æ¨¡å¼
            const layout = localStorage.getItem('layout') || 'list-mode';
            document.documentElement.setAttribute('data-layout', layout);

            // 3. è®€å–ä¸Šæ¬¡åœç•™çš„åˆ†é  (æœ€é—œéµï¼šè§£æ±ºé‡æ–°æ•´ç†å›å½ˆ)
            const lastPage = localStorage.getItem('lastPage') || '0';
            document.documentElement.setAttribute('data-init-page', lastPage);
            
            // 4. æ ¹æ“šä¸Šæ¬¡é é¢é è¨­æ»¾å‹•ä½ç½® (é˜²æ­¢è¼‰å…¥æ™‚çš„é–ƒçˆ)
            const style = document.createElement('style');
            style.innerHTML = `
                .scroller { visibility: hidden; } 
                [data-ready="true"] .scroller { visibility: visible; }
            `;
            document.head.appendChild(style);
        })();

        // ğŸš© é–‹ç™¼è€…é…ç½®è³‡æ–™
        const CONFIG_BANNER = "ğŸ’ 18.0 æ——è‰¦ç©©å®šç‰ˆï¼šå·²é”æˆé‡æ–°æ•´ç†åŸåœ°é–å®šã€ç‹€æ…‹åˆ—ç§’åŒæ­¥åŠåœ–ç¤ºé˜²æ¶ˆå¤±æŠ€è¡“ã€‚";
        const AUTHOR_DATA = {
            name: "ç‹å®¥éˆ",
            title: "æ ¸å¿ƒç³»çµ±æ¶æ§‹å¸« / Lead Developer",
            version: "v18.0.5-Gold-Stable",
            tutorialUrl: "https://your-guide-link.com",
            logs: `
                <strong>æ›´æ–°æ™‚é–“ï¼š2026/02/12</strong><br><br>
                â€¢ <b>åŸåœ°é–å®šæ©Ÿåˆ¶</b>ï¼šé‡æ–°æ•´ç†å¾Œï¼Œç³»çµ±æœƒåœ¨æ¸²æŸ“å‰é–å®šåº§æ¨™ï¼Œä¸å†æœ‰å¾ç¬¬ä¸€é æ»‘åˆ°ç¬¬ä¸‰é çš„è·³å‹•æ„Ÿã€‚<br>
                â€¢ <b>æ·±è‰²åŒæ­¥ 2.0</b>ï¼šæ¡ç”¨ Meta åŸå­ç´šé‡ç¹ªï¼Œè§£æ±ºç¶²å€åˆ—é¡è‰²å»¶é²å•é¡Œã€‚<br>
                â€¢ <b>SVG æ¸²æŸ“é˜²è­·</b>ï¼šé‡æ–°å®šç¾©æ‰‹æ©Ÿç‰ˆåœ–ç¤ºè·¯å¾‘ï¼Œç¢ºä¿åˆ‡æ›ä½ˆå±€æ™‚åœ–ç¤ºä¸æœƒã€Œéš±èº«ã€ã€‚<br>
                â€¢ <b>ä½ˆå±€å„ªåŒ–</b>ï¼šæ–¹å¡Šæ¨¡å¼åœ¨æ‰‹æ©Ÿç«¯ä¿æŒ 3 æ¬„ï¼Œé›»è…¦ç«¯è‡ªå‹•æ“´å±•è‡³ 6 æ¬„ã€‚
            `
        };
    </script>

    <style>
        /* --- ğŸ¨ æ ¸å¿ƒè®Šæ•¸ç³»çµ± --- */
        :root {
            --p: #4361ee; --g: #7209b7; --bg: #f8fafc; --card: #ffffff;
            --text: #1e293b; --sub: #64748b; --border: rgba(0,0,0,0.08);
            --nav-bg: rgba(255, 255, 255, 0.9); --banner-bg: #fff9db; --banner-text: #856404;
            --safe-bottom: env(safe-area-inset-bottom, 20px);
        }
        .dark-mode {
            --bg: #020617; --card: #1e293b; --text: #f8fafc;
            --sub: #94a3b8; --border: rgba(255,255,255,0.12);
            --nav-bg: rgba(15, 23, 42, 0.9); --banner-bg: #2d2a15; --banner-text: #ffec99;
        }

        /* --- ğŸ—ï¸ åŸºç¤ä½ˆå±€ --- */
        body {
            margin: 0; padding: 0; width: 100vw; height: 100dvh;
            background-color: var(--bg); color: var(--text);
            font-family: 'PingFang TC', 'SF Pro Display', system-ui, sans-serif;
            overflow: hidden; position: fixed; transition: background 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* å…¬å‘Šæ¬„ */
        .notice-banner { 
            background: var(--banner-bg); color: var(--banner-text); 
            padding: 10px; font-size: 0.7rem; text-align: center; font-weight: 800; 
            border-bottom: 1px solid var(--border);
        }

        /* æ¨™é ­ */
        header {
            height: 70px; padding: 0 20px; background: var(--nav-bg); 
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border); display: flex; 
            justify-content: space-between; align-items: center; z-index: 1000;
        }
        .logo h1 { margin: 0; font-size: 1.25rem; font-weight: 900; color: var(--p); letter-spacing: -0.5px; }
        .logo p { margin: 0; font-size: 0.65rem; color: var(--sub); font-weight: 700; letter-spacing: 1px; }

        .header-actions { display: flex; gap: 10px; align-items: center; }
        .mode-sw { display: flex; background: rgba(0,0,0,0.06); padding: 3px; border-radius: 12px; border: 1px solid var(--border); }
        .dark-mode .mode-sw { background: rgba(255,255,255,0.08); }

        .btn { 
            border: none; background: transparent; cursor: pointer; 
            display: flex; align-items: center; justify-content: center; 
            width: 38px; height: 38px; border-radius: 11px; color: var(--text);
            transition: all 0.2s ease;
        }
        .sw-btn { width: 34px; height: 30px; opacity: 0.3; }
        .sw-btn.active { background: var(--card); opacity: 1; box-shadow: 0 3px 8px rgba(0,0,0,0.1); }
        .circle-btn { background: var(--card); border: 1px solid var(--border); box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .btn:active { transform: scale(0.9); }

        /* SVG åœ–ç¤ºä¸€è‡´æ€§ */
        svg { width: 20px; height: 20px; fill: none; stroke: currentColor; stroke-width: 2.5; stroke-linecap: round; stroke-linejoin: round; }

        /* --- ğŸ“± ä¸»è¦æ²å‹•æ§åˆ¶å€ --- */
        .scroller {
            display: flex; width: 100%; height: calc(100dvh - 70px);
            overflow-x: auto; overflow-y: hidden;
            scroll-snap-type: x mandatory; scrollbar-width: none;
            -webkit-overflow-scrolling: touch;
        }
        .scroller::-webkit-scrollbar { display: none; }
        
        .panel { 
            flex: 0 0 100%; width: 100%; height: 100%; 
            scroll-snap-align: start; overflow-y: auto; 
            padding: 24px 18px 180px; box-sizing: border-box; 
        }

        /* ç¶²æ ¼èˆ‡æ¸…å–®åˆ‡æ›ç³»çµ± */
        .grid { display: grid; gap: 16px; width: 100%; max-width: 1200px; margin: 0 auto; }
        
        [data-layout="list-mode"] .grid { grid-template-columns: 1fr; }
        @media (min-width: 1024px) { [data-layout="list-mode"] .grid { grid-template-columns: repeat(3, 1fr); } }
        
        [data-layout="grid-mode"] .grid { grid-template-columns: repeat(3, 1fr); gap: 12px; }
        @media (min-width: 1024px) { [data-layout="grid-mode"] .grid { grid-template-columns: repeat(6, 1fr); } }

        .item { 
            background: var(--card); border: 1px solid var(--border); border-radius: 22px; 
            text-decoration: none; color: inherit; display: flex; transition: 0.3s ease; 
            position: relative; overflow: hidden;
        }
        .item:hover { border-color: var(--p); transform: translateY(-2px); }
        .item:active { transform: scale(0.97); background: var(--bg); }

        [data-layout="list-mode"] .item { padding: 20px; align-items: center; }
        [data-layout="grid-mode"] .item { flex-direction: column; padding: 18px 5px; text-align: center; aspect-ratio: 1/1; justify-content: center; }

        .ibox { display: flex; align-items: center; justify-content: center; background: rgba(67, 97, 238, 0.08); transition: 0.3s; }
        .dark-mode .ibox { background: rgba(255,255,255,0.05); }
        
        [data-layout="list-mode"] .ibox { width: 52px; height: 52px; border-radius: 15px; margin-right: 18px; font-size: 1.5rem; }
        [data-layout="grid-mode"] .ibox { width: 46px; height: 46px; border-radius: 50%; margin: 0 auto 12px; font-size: 1.4rem; }

        .txt h2 { margin: 0; font-size: 1rem; font-weight: 850; }
        .txt p { margin: 5px 0 0; font-size: 0.75rem; color: var(--sub); line-height: 1.4; }
        [data-layout="grid-mode"] .txt p { display: none; }

        /* --- ğŸ§­ åº•éƒ¨å°è¦½åˆ— --- */
        .nav-container { 
            position: fixed; bottom: calc(25px + var(--safe-bottom)); 
            left: 50%; transform: translateX(-50%); width: 92%; max-width: 420px; z-index: 5000; 
        }
        .nav-inner { 
            background: var(--nav-bg); backdrop-filter: blur(30px) saturate(150%); -webkit-backdrop-filter: blur(30px) saturate(150%);
            display: flex; padding: 7px; border-radius: 100px; border: 1px solid var(--border);
            box-shadow: 0 15px 45px rgba(0,0,0,0.25);
        }
        .tab { 
            flex: 1; text-align: center; padding: 14px 0; font-size: 0.95rem; font-weight: 900; 
            color: var(--sub); cursor: pointer; border-radius: 100px; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .tab.active { color: white; background: var(--p); box-shadow: 0 8px 20px rgba(67,97,238,0.35); }

        /* --- ğŸ›ï¸ Information Modal æ——è‰¦ä»‹é¢ --- */
        .modal-overlay { 
            position: fixed; inset: 0; background: rgba(0,0,0,0.8); 
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); 
            z-index: 9999; display: none; align-items: center; justify-content: center; padding: 20px; 
        }
        .modal-overlay.show { display: flex; }
        
        .modal { 
            background: var(--bg); width: 100%; max-width: 350px; border-radius: 35px; 
            overflow: hidden; border: 1px solid var(--border); box-shadow: 0 30px 60px rgba(0,0,0,0.5);
            animation: modalIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.9) translateY(30px); } to { opacity: 1; transform: scale(1) translateY(0); } }

        .m-header { background: linear-gradient(135deg, var(--p), var(--g)); color: white; padding: 35px 25px; text-align: center; position: relative; }
        .m-avatar { 
            width: 65px; height: 65px; background: rgba(255,255,255,0.25); 
            border: 2.5px solid white; border-radius: 50%; margin: 0 auto 15px; 
            display: flex; align-items: center; justify-content: center; font-size: 1.8rem; font-weight: 900; 
        }
        .m-name { margin: 0; font-size: 1.3rem; font-weight: 900; }
        .m-title { margin: 6px 0 0; font-size: 0.75rem; opacity: 0.9; font-weight: 600; letter-spacing: 0.5px; }
        
        .m-body { padding: 25px; }
        .m-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .m-ver-badge { background: var(--p); color: white; padding: 5px 12px; border-radius: 10px; font-size: 0.75rem; font-weight: 800; }
        .m-guide-btn { color: var(--p); text-decoration: none; font-size: 0.85rem; font-weight: 900; border-bottom: 2.5px solid var(--p); padding-bottom: 2px; }
        
        .m-log-box { 
            background: rgba(0,0,0,0.04); border-radius: 20px; padding: 18px; 
            height: 150px; overflow-y: auto; font-size: 0.82rem; line-height: 1.7; color: var(--sub);
            border: 1px solid var(--border);
        }
        .dark-mode .m-log-box { background: rgba(255,255,255,0.04); }
        .m-close-btn { 
            width: 100%; padding: 16px; background: var(--text); color: var(--bg); 
            border: none; border-radius: 20px; font-weight: 900; margin-top: 20px; cursor: pointer;
            transition: 0.2s;
        }
        .m-close-btn:active { transform: scale(0.95); opacity: 0.8; }
    </style>
</head>
<body data-layout="list-mode">

    <div class="notice-banner" id="annBar"></div>

    <header>
        <div class="logo">
            <h1>ç­ç´šæ•¸ä½å¹³å°</h1>
            <p>ELITE CAMPUS HUB v18</p>
        </div>
        <div class="header-actions">
            <div class="mode-sw">
                <button class="btn sw-btn" id="listBtn" onclick="setLayout('list-mode')">
                    <svg viewBox="0 0 24 24"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><path d="M3 6h.01M3 12h.01M3 18h.01" stroke="currentColor"/></svg>
                </button>
                <button class="btn sw-btn" id="gridBtn" onclick="setLayout('grid-mode')">
                    <svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7" stroke="currentColor"/></svg>
                </button>
            </div>
            <button class="btn circle-btn" onclick="toggleTheme()" id="themeTrigger">
                <svg id="themeIcon" viewBox="0 0 24 24"></svg>
            </button>
            <button class="btn circle-btn" onclick="toggleModal(true)">
                <svg viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6z"/><path d="M14 2v6h6"/></svg>
            </button>
        </div>
    </header>

    <main class="scroller" id="mainScroller">
        <section class="panel"><div class="grid">
            <a href="è¡Œäº‹æ›†/index.html" class="item"><div class="ibox">ğŸ“…</div><div class="txt"><h2>ç­ç´šè¡Œäº‹æ›†</h2><p>åŒæ­¥å­¸æ ¡èˆ‡ç­ç´šé‡è¦æ—¥ç¨‹</p></div></a>
            <a href="countdown/index.html" class="item"><div class="ibox">â³</div><div class="txt"><h2>è€ƒç¨‹å€’æ•¸</h2><p>å€’æ•¸è¨ˆæ™‚ï¼ŒæŒæ¡æˆ°é¬¥ç¯€å¥</p></div></a>
            <a href="homework/index.html" class="item"><div class="ibox">ğŸ“’</div><div class="txt"><h2>ä½œæ¥­å½™æ•´</h2><p>æ¯æ—¥ä½œæ¥­æ¸…å–®å³æ™‚æ›´æ–°</p></div></a>
        </div></section>
        
        <section class="panel"><div class="grid">
            <a href="help/student.html" class="item"><div class="ibox">ğŸŒ±</div><div class="txt"><h2>å¿ƒè²è«®è©¢</h2><p>æº«å’Œå‚¾è½ä½ çš„æ¯å€‹æƒ³æ³•</p></div></a>
            <a href="unknownmail/index.html" class="item"><div class="ibox">ãŠ™ï¸</div><div class="txt"><h2>åŠ å¯†ä¿¡ç®±</h2><p>åŒ¿åä¸”å®‰å…¨çš„æ¶ˆæ¯å‚³é</p></div></a>
            <a href="åŒ¿å/index.html" class="item"><div class="ibox">âœ¨</div><div class="txt"><h2>åŒ¿åè¨±é¡˜æ± </h2><p>äº’å‹•èˆ‡äº¤æµçš„å°å¤©åœ°</p></div></a>
            <a href="board/index.html" class="item"><div class="ibox">ğŸ’¬</div><div class="txt"><h2>å…¬å‹™è¨è«–å€</h2><p>å…±åŒåƒèˆ‡ç­ç´šé‡è¦æ±ºç­–</p></div></a>
        </div></section>

        <section class="panel"><div class="grid">
            <a href="cleaning/index.html" class="item"><div class="ibox">ğŸ§¹</div><div class="txt"><h2>å‹¤å‹™è¿½è¹¤</h2><p>æ•´æ½”å€åŸŸèˆ‡è² è²¬äººæŸ¥è©¢</p></div></a>
            <a href="seating/index.html" class="item"><div class="ibox">ğŸª‘</div><div class="txt"><h2>é¸ä½ç³»çµ±</h2><p>å…¬å¹³å…¬é–‹çš„æ•¸ä½æ›ä½æ©Ÿåˆ¶</p></div></a>
            <a href="vote/index.html" class="item"><div class="ibox">ğŸ—³ï¸</div><div class="txt"><h2>æ•¸ä½æŠ•ç¥¨</h2><p>ä¸€éµè¡¨æ±ºç­ç´šå¤§å°äº‹å‹™</p></div></a>
            <a href="grouping/index.html" class="item"><div class="ibox">ğŸ²</div><div class="txt"><h2>éš¨æ©Ÿåˆ†çµ„</h2><p>å¤šç¨®æ¼”ç®—æ³•çš„å…¬å¹³åˆ†çµ„</p></div></a>
        </div></section>

        <section class="panel"><div class="grid">
            <a href="exam_calc/index.html" class="item"><div class="ibox">ğŸ“</div><div class="txt"><h2>æ®µè€ƒåˆ†æ</h2><p>å€‹äººåŒ–æˆç¸¾æ•¸æ“šå½™æ•´çµ±è¨ˆ</p></div></a>
            <a href="final_calc/index.html" class="item"><div class="ibox">ğŸ“ˆ</div><div class="txt"><h2>å­¸æœŸè©•ä¼°</h2><p>å­¸åˆ†é ä¼°èˆ‡å­¸ç¿’æ›²ç·šåˆ†æ</p></div></a>
        </div></section>
    </main>

    <nav class="nav-container">
        <div class="nav-inner" id="navBar">
            <div class="tab" onclick="jumpTo(0)">æé†’</div>
            <div class="tab" onclick="jumpTo(1)">äº’å‹•</div>
            <div class="tab" onclick="jumpTo(2)">ç­å‹™</div>
            <div class="tab" onclick="jumpTo(3)">æˆç¸¾</div>
        </div>
    </nav>

    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="m-header">
                <div class="m-avatar">ç‹</div>
                <h3 class="m-name" id="mName"></h3>
                <p class="m-title" id="mTitle"></p>
            </div>
            <div class="m-body">
                <div class="m-row">
                    <span class="m-ver-badge" id="mVer"></span>
                    <a href="#" class="m-guide-btn" id="mTutorial" target="_blank">ğŸ“– ä½¿ç”¨æ•™å­¸</a>
                </div>
                <div class="m-log-box" id="mLogs"></div>
                <button class="m-close-btn" onclick="toggleModal(false)">æˆ‘çŸ¥é“äº†</button>
            </div>
        </div>
    </div>

    <script>
        /**
         * ğŸŒŸ å…¨åŸŸç‹€æ…‹ç®¡ç†
         */
        const state = {
            scroller: document.getElementById('mainScroller'),
            tabs: document.querySelectorAll('.tab'),
            isDark: document.documentElement.classList.contains('dark-mode'),
            currentIdx: parseInt(localStorage.getItem('lastPage')) || 0,
            isReady: false
        };

        /**
         * ğŸŒŸ æ ¸å¿ƒï¼šå¼·åˆ¶åŒæ­¥ UI èˆ‡ æ‰‹æ©Ÿå¤–æ®¼é¡è‰²
         */
        function forceSyncSystemUI() {
            const themeColor = state.isDark ? "#020617" : "#f8fafc";
            
            // 1. å¼·åŠ›æ›´æ–° Meta æ¨™ç±¤ (è§£æ±ºç¶²å€åˆ—è®Šè‰²å•é¡Œ)
            const chromeMeta = document.getElementById('chrome-theme');
            const safariMeta = document.getElementById('safari-theme');
            
            if (chromeMeta) chromeMeta.content = themeColor;
            if (safariMeta) safariMeta.content = state.isDark ? "black-translucent" : "default";

            // 2. æ›´æ–°ä¸»é¡Œåˆ‡æ›æŒ‰éˆ•çš„åœ–ç¤º (æ¡ç”¨å®Œæ•´è·¯å¾‘ï¼Œé˜²æ­¢æ¶ˆå¤±)
            const icon = document.getElementById('themeIcon');
            if (state.isDark) {
                // å¤ªé™½åœ–ç¤º (åˆ‡å›äº®è‰²)
                icon.innerHTML = `<circle cx="12" cy="12" r="5" fill="currentColor"></circle>
                                  <path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2"></path>`;
            } else {
                // æœˆäº®åœ–ç¤º (åˆ‡åˆ°æ·±è‰²)
                icon.innerHTML = `<path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" fill="currentColor"></path>`;
            }

            // 3. è§¸ç™¼æš´åŠ›é‡ç¹ª (é˜²æ­¢æ‰‹æ©Ÿç‰ˆ SVG åœ–ç¤ºæ¶ˆå¤±)
            const allSvgs = document.querySelectorAll('svg');
            allSvgs.forEach(s => s.style.opacity = '0.99'); 
            document.body.style.display = 'none';
            document.body.offsetHeight; // è§¸ç™¼ Reflow
            document.body.style.display = 'block';
            setTimeout(() => allSvgs.forEach(s => s.style.opacity = '1'), 10);
        }

        /**
         * ğŸŒŸ æ ¸å¿ƒï¼šæ™ºæ…§å‹åˆ†é å®šä½ (è§£æ±ºé‡æ–°æ•´ç†è·³å‹•)
         */
        function jumpTo(idx, behavior = 'smooth') {
            const targetLeft = idx * state.scroller.offsetWidth;
            state.scroller.scrollTo({ left: targetLeft, behavior: behavior });
            
            state.currentIdx = idx;
            localStorage.setItem('lastPage', idx);
            
            // æ›´æ–°é¸å–®æ¨™ç±¤ç‹€æ…‹
            state.tabs.forEach((tab, i) => {
                tab.classList.toggle('active', i === idx);
            });
        }

        /**
         * ğŸŒŸ ä¸»é¡Œåˆ‡æ›é‚è¼¯
         */
        function toggleTheme() {
            state.isDark = !state.isDark;
            document.documentElement.classList.toggle('dark-mode', state.isDark);
            localStorage.setItem('theme', state.isDark ? 'dark' : 'light');
            forceSyncSystemUI();
        }

        /**
         * ğŸŒŸ ä½ˆå±€åˆ‡æ›é‚è¼¯
         */
        function setLayout(mode) {
            document.documentElement.setAttribute('data-layout', mode);
            document.getElementById('listBtn').classList.toggle('active', mode === 'list-mode');
            document.getElementById('gridBtn').classList.toggle('active', mode === 'grid-mode');
            localStorage.setItem('layout', mode);
            
            // åˆ‡æ›ä½ˆå±€å¾Œé‡æ–°æ ¡æº–æ²å‹•ä½ç½®ï¼Œé˜²æ­¢æ­ªæ‰
            setTimeout(() => jumpTo(state.currentIdx, 'auto'), 50);
        }

        /**
         * ğŸŒŸ è¦–çª—åˆå§‹åŒ–èˆ‡ç›£è½
         */
        function initSystem() {
            // å…¬å‘Šå…§å®¹
            document.getElementById('annBar').innerText = CONFIG_BANNER;

            // 1. åŒæ­¥å¤–æ®¼é¡è‰²
            forceSyncSystemUI();

            // 2. ä½ˆå±€æŒ‰éˆ•ç‹€æ…‹
            const savedLayout = localStorage.getItem('layout') || 'list-mode';
            document.getElementById('listBtn').classList.toggle('active', savedLayout === 'list-mode');
            document.getElementById('gridBtn').classList.toggle('active', savedLayout === 'grid-mode');

            // 3. åŸ·è¡Œã€Œé˜»æ–·å¼å®šä½ã€ï¼šç›´æ¥è®“ scroller ç¬é–“åˆ°é”ç›®æ¨™ä½ç½®
            // behavior ä½¿ç”¨ 'auto' ç¢ºä¿æ²’æœ‰æ»‘å‹•éç¨‹
            jumpTo(state.currentIdx, 'auto');

            // 4. æ¨™è¨˜ç³»çµ±å·² Readyï¼Œé¡¯ç¤ºå…§å®¹ (æ¶ˆé™¤è¼‰å…¥é–ƒçˆ)
            document.documentElement.setAttribute('data-ready', 'true');

            // ç›£è½æ‰‹å‹•æ²å‹•
            state.scroller.addEventListener('scroll', () => {
                const newIdx = Math.round(state.scroller.scrollLeft / state.scroller.offsetWidth);
                if (newIdx !== state.currentIdx) {
                    state.currentIdx = newIdx;
                    localStorage.setItem('lastPage', newIdx);
                    state.tabs.forEach((tab, i) => tab.classList.toggle('active', i === newIdx));
                }
            }, { passive: true });

            // ç›£è½è¦–çª—ç¸®æ”¾ (è£œå„Ÿå¯¬åº¦è®ŠåŒ–)
            window.addEventListener('resize', () => jumpTo(state.currentIdx, 'auto'));
        }

        /**
         * ğŸŒŸ Information Modal é‚è¼¯
         */
        function toggleModal(show) {
            const overlay = document.getElementById('modalOverlay');
            if (show) {
                document.getElementById('mName').innerText = AUTHOR_DATA.name;
                document.getElementById('mTitle').innerText = AUTHOR_DATA.title;
                document.getElementById('mVer').innerText = AUTHOR_DATA.version;
                document.getElementById('mTutorial').href = AUTHOR_DATA.tutorialUrl;
                document.getElementById('mLogs').innerHTML = AUTHOR_DATA.logs;
                overlay.classList.add('show');
            } else {
                overlay.classList.remove('show');
            }
        }

        // å•Ÿå‹•å…¥å£
        document.addEventListener('DOMContentLoaded', initSystem);
        
        // æœ€çµ‚ä¿éšªï¼šwindow.onload å†æ¬¡é–å®šä½ç½®
        window.onload = () => {
            setTimeout(() => jumpTo(state.currentIdx, 'auto'), 0);
        };
    </script>
</body>
</html>
