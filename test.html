<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ç­ç´šæ•¸ä½å¹³å° v3.2.0</title>

    <meta name="theme-color" id="chrome-theme" content="#4361ee">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" id="safari-theme" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ClassHub">
    
    <script>
        (function() {
            const theme = localStorage.getItem('theme') || 'light';
            const layout = localStorage.getItem('layout') || 'list-mode';
            if (theme === 'dark') document.documentElement.classList.add('dark-mode');
            document.documentElement.setAttribute('data-layout', layout);
        })();

        const SYS_CONFIG = {
            banner: "ğŸ“¢ æ­¡è¿ä½¿ç”¨ v3.2.0 App æ•´åˆç‰ˆ - é»æ“Šåœ–ç¤ºå³å¯é–‹å•Ÿå„é …å·¥å…·",
            author: { name: "ç‹å®¥éˆ", role: "é–‹ç™¼è€…", ver: "v3.2.0" }
        };
    </script>

    <style>
        :root {
            --p: #4361ee; --p-light: rgba(67, 97, 238, 0.1); --g: #7209b7; 
            --bg: #f8fafc; --card: #ffffff; --text: #1e293b; --sub: #64748b; 
            --border: rgba(0,0,0,0.06); --nav-bg: rgba(255, 255, 255, 0.85); 
            --accent: #4361ee; --safe-bottom: env(safe-area-inset-bottom, 20px);
        }
        .dark-mode {
            --bg: #020617; --card: #0f172a; --text: #f8fafc; --sub: #94a3b8; 
            --border: rgba(255,255,255,0.08); --nav-bg: rgba(15, 23, 42, 0.85); --accent: #fbbf24;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body {
            margin: 0; width: 100vw; height: 100dvh; background-color: var(--bg); color: var(--text);
            font-family: -apple-system, system-ui, "Microsoft JhengHei", sans-serif;
            overflow: hidden; position: fixed; overscroll-behavior-y: contain;
        }

        /* --- ğŸš€ App å•Ÿå‹•å‹•ç•« (Splash Screen) --- */
        #splash {
            position: fixed; inset: 0; background: var(--p); z-index: 99999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: transform 0.6s cubic-bezier(0.8, 0, 0.2, 1);
        }
        #splash .logo { width: 80px; height: 80px; background: white; border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .ready #splash { transform: translateY(-100%); }

        /* --- é ‚éƒ¨å°è¦½ --- */
        header {
            height: 90px; padding: 40px 20px 10px; background: var(--nav-bg); 
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            display: flex; justify-content: space-between; align-items: center; z-index: 1000;
        }
        .brand h1 { margin: 0; font-size: 22px; font-weight: 900; color: var(--p); }
        .brand p { margin: 0; font-size: 10px; color: var(--sub); letter-spacing: 1px; }

        /* --- Bento Dashboard (é¦–é å°ˆç”¨) --- */
        .bento-grid { display: grid; grid-template-columns: 1.5fr 1fr; gap: 12px; margin-bottom: 25px; }
        .bento-item { border-radius: 24px; padding: 18px; position: relative; overflow: hidden; }
        .bento-main { background: linear-gradient(135deg, var(--p), var(--g)); color: white; grid-column: span 1; }
        .bento-sub { background: var(--card); border: 1px solid var(--border); }

        /* --- æ ¸å¿ƒæ»¾å‹•å¼•æ“ --- */
        .viewport {
            width: 100%; height: calc(100dvh - 90px);
            display: flex; overflow-x: auto; scroll-snap-type: x mandatory;
            scrollbar-width: none; -webkit-overflow-scrolling: touch;
        }
        .viewport::-webkit-scrollbar { display: none; }
        .page-panel { flex: 0 0 100%; width: 100%; height: 100%; scroll-snap-align: start; overflow-y: auto; padding: 20px 20px 150px; }

        /* --- å¡ç‰‡è¨­è¨ˆ --- */
        .content-grid { display: grid; gap: 15px; grid-template-columns: 1fr; }
        [data-layout="grid-mode"] .content-grid { grid-template-columns: repeat(3, 1fr); }
        
        .card {
            background: var(--card); border: 1px solid var(--border); border-radius: 22px;
            padding: 20px; text-decoration: none; color: inherit; display: flex; align-items: center;
            transition: transform 0.2s;
        }
        .card:active { transform: scale(0.95); background: var(--p-light); }
        [data-layout="grid-mode"] .card { flex-direction: column; text-align: center; padding: 15px 10px; }
        
        .card-icon { width: 50px; height: 50px; border-radius: 15px; background: var(--p-light); color: var(--p); display: flex; align-items: center; justify-content: center; font-size: 24px; margin-right: 15px; }
        [data-layout="grid-mode"] .card-icon { margin: 0 0 10px 0; width: 45px; height: 45px; border-radius: 50%; }

        .card-info h2 { margin: 0; font-size: 16px; font-weight: 800; }
        .card-info p { margin: 3px 0 0; font-size: 11px; color: var(--sub); }
        [data-layout="grid-mode"] .card-info p { display: none; }

        /* --- åº•éƒ¨å°è¦½åˆ— --- */
        .nav-dock { position: fixed; bottom: calc(20px + var(--safe-bottom)); left: 50%; transform: translateX(-50%); width: 90%; max-width: 400px; z-index: 5000; }
        .nav-glass { background: var(--nav-bg); backdrop-filter: blur(20px) saturate(160%); -webkit-backdrop-filter: blur(20px) saturate(160%); display: flex; padding: 6px; border-radius: 30px; border: 1px solid var(--border); box-shadow: 0 10px 30px rgba(0,0,0,0.15); }
        .nav-item { flex: 1; text-align: center; padding: 12px 0; font-size: 13px; font-weight: 800; color: var(--sub); border-radius: 25px; transition: 0.3s; }
        .nav-item.active { color: white; background: var(--p); box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3); }

        /* é€šç”¨æŒ‰éˆ• */
        .circle-tool { width: 38px; height: 38px; border-radius: 50%; background: var(--card); border: 1px solid var(--border); display: flex; align-items: center; justify-content: center; color: var(--text); }
        svg { width: 20px; height: 20px; fill: none; stroke: currentColor; stroke-width: 2.5; }
    </style>
</head>
<body>

    <div id="splash">
        <div class="logo">ğŸ«</div>
        <p style="color: white; margin-top: 20px; font-weight: 800; letter-spacing: 2px;">æ•¸ä½æ•™å®¤è¼‰å…¥ä¸­</p>
    </div>

    <header>
        <div class="brand">
            <h1>ç­ç´šæ•¸ä½å¹³å°</h1>
            <p id="author-info">BY ç‹å®¥éˆ | V3.2.0</p>
        </div>
        <div style="display: flex; gap: 10px;">
            <button class="circle-tool" onclick="updateTheme()"><svg id="theme-icon" viewBox="0 0 24 24"></svg></button>
            <button class="circle-tool" onclick="toggleLayout()"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg></button>
        </div>
    </header>

    <main class="viewport" id="scroll-engine">
        <section class="page-panel">
            <div class="bento-grid">
                <div class="bento-item bento-main">
                    <span style="font-size: 11px; font-weight: 800; opacity: 0.8;">è€ƒç¨‹å€’æ•¸</span>
                    <h2 style="font-size: 32px; margin: 5px 0;">12 <small style="font-size: 14px;">Days</small></h2>
                    <p style="font-size: 11px; margin: 0;">è·é›¢ ç¬¬ä¸€æ¬¡æ®µè€ƒ</p>
                </div>
                <div class="bento-item bento-sub" style="display:flex; flex-direction:column; align-items:center; justify-content:center;">
                    <span style="font-size: 24px;">ğŸ””</span>
                    <span style="font-size: 11px; margin-top:5px; font-weight: 800;">3 é …ä½œæ¥­</span>
                </div>
            </div>
            <div class="content-grid">
                <a href="calendar/index.html" class="card"><div class="card-icon">ğŸ“…</div><div class="card-info"><h2>ç­ç´šè¡Œäº‹æ›†</h2><p>æŒæ¡é‡è¦æ´»å‹•ä¸æ¼æ¥</p></div></a>
                <a href="homework/index.html" class="card"><div class="card-icon">ğŸ“’</div><div class="card-info"><h2>ä½œæ¥­å¾…è¾¦</h2><p>åŒæ­¥æ›´æ–°æœ€æ–°ä½œæ¥­</p></div></a>
            </div>
        </section>

        <section class="page-panel">
            <div class="content-grid">
                <a href="help/student.html" class="card"><div class="card-icon">ğŸŒ±</div><div class="card-info"><h2>åŒ¿åæ±‚åŠ©</h2><p>å°å¸«å³æ™‚å‚¾è½</p></div></a>
                <a href="unknownmail/index.html" class="card"><div class="card-icon">âœ‰ï¸</div><div class="card-info"><h2>åŒ¿åä¿¡ç®±</h2><p>çµ¦åŒå­¸æº«é¦¨æé†’</p></div></a>
                <a href="board/index.html" class="card"><div class="card-icon">ğŸ’¬</div><div class="card-info"><h2>ç•™è¨€æ¿</h2><p>å¤§å®¶ä¸€èµ·èªªèªªè©±</p></div></a>
            </div>
        </section>

        <section class="page-panel">
            <div class="content-grid">
                <a href="cleaning/index.html" class="card"><div class="card-icon">ğŸ§¹</div><div class="card-info"><h2>å‹¤å‹™åˆ†é…</h2><p>æƒå€èˆ‡é»æ•¸æŸ¥è©¢</p></div></a>
                <a href="seating/index.html" class="card"><div class="card-icon">ğŸª‘</div><div class="card-info"><h2>éš¨æ©Ÿé¸ä½</h2><p>å…¬å¹³åˆºæ¿€çš„åº§ä½ç”Ÿæˆ</p></div></a>
                <a href="vote/index.html" class="card"><div class="card-icon">ğŸ—³ï¸</div><div class="card-info"><h2>æ•¸ä½æŠ•ç¥¨</h2><p>äº‹å‹™è¡¨æ±ºä¸­æ§å®¤</p></div></a>
            </div>
        </section>

        <section class="page-panel">
            <div class="content-grid">
                <a href="exam_calc/index.html" class="card"><div class="card-icon">ğŸ“</div><div class="card-info"><h2>æ®µè€ƒåŠ æ¬Š</h2><p>ç²¾ç¢ºè¨ˆç®—å¹³å‡åˆ†</p></div></a>
                <a href="final_calc/index.html" class="card"><div class="card-icon">ğŸ“ˆ</div><div class="card-info"><h2>å­¸æœŸç¸½åˆ†</h2><p>å­¸åˆ†é€šéåˆ¤å®š</p></div></a>
            </div>
        </section>
    </main>

    <nav class="nav-dock">
        <div class="nav-glass">
            <div class="nav-item active" onclick="moveTo(0)">æé†’</div>
            <div class="nav-item" onclick="moveTo(1)">äº’å‹•</div>
            <div class="nav-item" onclick="moveTo(2)">ç­å‹™</div>
            <div class="nav-item" onclick="moveTo(3)">æˆç¸¾</div>
        </div>
    </nav>

    <script>
        const Hub = {
            dom: {
                scroller: document.getElementById('scroll-engine'),
                tabs: document.querySelectorAll('.nav-item'),
                themeIcon: document.getElementById('theme-icon')
            },
            state: {
                currentIdx: parseInt(localStorage.getItem('lastPage')) || 0,
                isDark: document.documentElement.classList.contains('dark-mode'),
                layout: localStorage.getItem('layout') || 'list-mode'
            }
        };

        function moveTo(idx, behavior = 'smooth') {
            const width = Hub.dom.scroller.offsetWidth;
            Hub.dom.scroller.scrollTo({ left: idx * width, behavior: behavior });
            Hub.state.currentIdx = idx;
            localStorage.setItem('lastPage', idx);
            updateNavUI();
        }

        function updateNavUI() {
            Hub.dom.tabs.forEach((tab, i) => tab.classList.toggle('active', i === Hub.state.currentIdx));
        }

        function toggleLayout() {
            const newLayout = Hub.state.layout === 'list-mode' ? 'grid-mode' : 'list-mode';
            document.documentElement.setAttribute('data-layout', newLayout);
            Hub.state.layout = newLayout;
            localStorage.setItem('layout', newLayout);
            setTimeout(() => moveTo(Hub.state.currentIdx, 'auto'), 50);
        }

        function updateTheme() {
            Hub.state.isDark = !Hub.state.isDark;
            document.documentElement.classList.toggle('dark-mode', Hub.state.isDark);
            localStorage.setItem('theme', Hub.state.isDark ? 'dark' : 'light');
            syncThemeIcon();
        }

        function syncThemeIcon() {
            Hub.dom.themeIcon.innerHTML = Hub.state.isDark 
                ? `<circle cx="12" cy="12" r="5" fill="currentColor"/><path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor"/>`
                : `<path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" fill="currentColor" stroke="currentColor"/>`;
        }

        window.addEventListener('DOMContentLoaded', () => {
            syncThemeIcon();
            // å»¶é²å•Ÿå‹• Splash å‹•ç•«
            setTimeout(() => {
                document.body.classList.add('ready');
                moveTo(Hub.state.currentIdx, 'auto');
            }, 1200);

            Hub.dom.scroller.addEventListener('scroll', () => {
                const newIdx = Math.round(Hub.dom.scroller.scrollLeft / Hub.dom.scroller.offsetWidth);
                if (newIdx !== Hub.state.currentIdx) {
                    Hub.state.currentIdx = newIdx;
                    localStorage.setItem('lastPage', newIdx);
                    updateNavUI();
                }
            }, { passive: true });
        });
    </script>
</body>
</html>
